jQuery(function(a){!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){var s,e={direction:"right",breakpoint:-1},t=0,i={x:window.scrollX,y:window.scrollY},n="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]",o=0,r=function(){a(window).width()!==o&&(o=a(window).width(),a(".js-hiraku-offcanvas").each(function(){var s=a(this),e=a(this).data("breakpoint");s.hasClass("js-hiraku-offcanvas-open")&&(-1===e||e>=window.innerWidth)||(-1===e||e>=window.innerWidth?s.addClass("js-hiraku-offcanvas-active").attr("aria-hidden",!0):s.removeClass("js-hiraku-offcanvas-active").attr("aria-hidden",!1).trigger("click"))}))};a.fn.extend({hiraku:function(s){var s=a.extend({},e,s),i="js-hiraku-offcanvas-"+t,n=a(this),o=a(s.btn),f=a(s.fixedHeader);n.addClass("js-hiraku-offcanvas-sidebar").data("scroll",scroll),0===n.parent(".js-hiraku-offcanvas").length&&n.wrap('<div class="js-hiraku-offcanvas"/>'),n.attr("role","navigation");var d=n.parent(".js-hiraku-offcanvas");d.data("opt",s),d.attr("aria-hidden","true").attr("aria-labelledby","hiraku-offcanvas-btn-"+t).attr("id",i).data("breakpoint",s.breakpoint).attr("aria-label","close"),a("body").addClass("js-hiraku-offcanvas-body"),"right"==s.direction?n.addClass("js-hiraku-offcanvas-sidebar-right"):n.addClass("js-hiraku-offcanvas-sidebar-left"),s.btn&&o.addClass("js-hiraku-offcanvas-btn").attr("data-toggle-offcanvas","#"+i).attr("aria-expanded",!1).attr("aria-label","Menu").attr("aria-controls",i).attr("id","hiraku-offcanvas-btn-"+t),s.fixedHeader&&f.addClass("js-hiraku-header-fixed"),t++,r()}}),a(document).on("click",".js-hiraku-offcanvas-btn",function(s){var e=a(a(this).data("toggle-offcanvas"));a('<button type="button">Close Offcanvas-Menu Button</button>').attr("aria-label","Close").addClass("js-hiraku-offcanvas-close-btn").appendTo(e);var t=a(this),o=a("body").css({width:a(window).width(),height:a(window).height()}),r=e.find(".js-hiraku-offcanvas-sidebar"),f=e.find(n).first(),d=e.find(n).last();f.off("keydown.hiraku-offcanvas").on("keydown.hiraku-offcanvas",function(a){9===a.which&&a.shiftKey&&(a.preventDefault(),d.focus())}),d.off("keydown.hiraku-offcanvas").on("keydown.hiraku-offcanvas",function(a){9!==a.which||a.shiftKey||(a.preventDefault(),f.focus())}),d.off("click.hiraku-offcanvas").on("click.hiraku-offcanvas",function(){e.click()}),t.addClass("js-hiraku-offcanvas-btn-active").attr("aria-expanded",!0),i.x=window.scrollX,i.y=window.scrollY,e.attr("aria-hidden",!1).addClass("js-hiraku-offcanvas-open"),setTimeout(function(){a("html").css("marginTop",-1*window.scrollY),r.hasClass("js-hiraku-offcanvas-sidebar-right")?o.addClass("js-hiraku-offcanvas-body-right"):o.addClass("js-hiraku-offcanvas-body-left"),r.addClass("active"),a(".js-header").addClass("menu"),f.focus()},1),s.preventDefault()}),a(document).on("click touchstart keyup",".js-hiraku-offcanvas",function(s){if(("keyup"!==s.type||27===s.keyCode)&&("keyup"===s.type&&(s.target=document.querySelector(".js-hiraku-offcanvas")),a(s.target).hasClass("js-hiraku-offcanvas"))){var e=a(this).data("opt");a(".js-hiraku-offcanvas-body").addClass("js-hiraku-offcanvas-body-moving").removeClass("js-hiraku-offcanvas-body-right").removeClass("js-hiraku-offcanvas-body-left"),a(".js-hiraku-offcanvas-sidebar").removeClass("active"),a("body").css({width:"",height:""}),setTimeout(function(){a(s.target).removeClass("js-hiraku-offcanvas-open").attr("aria-hidden",!0),a(".js-hiraku-offcanvas-body").removeClass("js-hiraku-offcanvas-body-moving"),a("html").css("marginTop",""),window.scrollTo(i.x,i.y);a(".js-hiraku-offcanvas-btn-active ").removeClass("js-hiraku-offcanvas-btn-active").attr("aria-expanded",!1).focus(),a(".js-header").removeClass("menu"),a(s.target).find(".js-hiraku-offcanvas-close-btn").remove(),e&&e.onClose&&e.onClose()},300)}}),a(window).on("resize",function(){"requestAnimationFrame"in window?(cancelAnimationFrame(s),s=requestAnimationFrame(r)):r()}),a(".menu-item > a").click(function(){a(".js-header").removeClass("menu"),a(".js-offcanvas").removeClass("active"),a(".js-hiraku-offcanvas").removeClass("js-hiraku-offcanvas-open"),a(".js-offcanvas-btn").attr("aria-expanded",!1),a("html").removeAttr("style"),a("body").removeAttr("style").removeClass("js-hiraku-offcanvas-body-right"),console.log("test")})}),a(".js-offcanvas").hiraku({btn:".js-offcanvas-btn",fixedHeader:".js-fixed-header",direction:"right",breakpoint:767})});